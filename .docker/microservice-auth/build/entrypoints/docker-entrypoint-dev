#!/bin/bash

# Activate virtual environment
source /opt/.venv/bin/activate

# Start the application
cd resources/ && RELOAD_ENABLED=true python -m server

# If the application is failing to start,
# launch a sleep process to keep the container running
# since the container will stop if the main process stops
# As the container is a devcontainer, it is useful to keep it running
# to be able to debug the application

sleep infinity

# catch the SIGTERM signal and exit
trap "exit" TERM